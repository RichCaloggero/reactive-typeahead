<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Typeahead (vue)</title>

<style>
[role="option"][aria-selected="true"] {color: red;}
</style>

</head>
<body>
<h1>Typeahead (vue)</h1>

<p><button id="repopulate">repopulate</button></p>
<div class="typeahead">
<typeahead id="myTypeahead" label="Choose a flavor: " multiselect
content='["chocolate", "vanilla", "strawberry", "coconut"]'>
</typeahead>
</div>

<div id="help">
<h2>Keyboard Controls</h2>
<ul><li>
when focused on the input control, up / down arrows shift focus into the list and move through the items
</li><li>
spacebar toggles selection of an item in the list
</li><li>
enter completes the action (event is fired and alert is shown for demo purposes)
</li><li>
escape cancels current action and returns focus to the input box
</li><li>
normal text editing commands can be used when focus is in the input field
</li></ul>
</div>


<script src="vue.js"></script>
<script src="typeahead.js"></script>
<script>
let $ = document.querySelector.bind(document);


let vm = new Vue({
el: ".typeahead",
data: {content: ""}
}); // root component

let myTypeahead = $("#myTypeahead");
document.addEventListener ("complete", (e) => alert (`result: ${e.target.value}`));

document.querySelector ("#repopulate").addEventListener ("click", () => {
let content=`["Argentina",
"Australia",
"Brazil",
"Canada",
"China",
"France",
"Germany",
"India",
"Mexico",
"Russia",
"United States"
]`;
myTypeahead.setAttribute ("label", "choose multiple countries: ");
vm.$children[0].$options.data (content);
//myTypeahead.dispatchEvent (new CustomEvent("initialize", {bubbles: true}));
}); // click

</script>

</body>
</html>
